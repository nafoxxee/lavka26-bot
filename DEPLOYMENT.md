# üöÄ Lavka26 Bot - –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

## üìã –û–±–∑–æ—Ä

Lavka26 Bot - —ç—Ç–æ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏–π –¥–ª—è Telegram —Å:
- Node.js –±–æ—Ç–æ–º –Ω–∞ Telegraf
- –ë–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö Supabase
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –¥–µ–ø–ª–æ–µ–º –Ω–∞ Render
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π —Å GitHub

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Telegram Bot  ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ‚îÇ   Supabase DB   ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ   GitHub Repo   ‚îÇ
‚îÇ   (Node.js)     ‚îÇ    ‚îÇ‚îÇ   (PostgreSQL)  ‚îÇ    ‚îÇ   (Source)      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ                       ‚îÇ                       ‚îÇ
         ‚îÇ                       ‚îÇ                       ‚îÇ
         ‚ñº                       ‚ñº                       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Render App    ‚îÇ    ‚îÇ   Edge Functions‚îÇ    ‚îÇ   CI/CD Pipeline‚îÇ
‚îÇ   (Production)  ‚îÇ    ‚îÇ   (Serverless)  ‚îÇ    ‚îÇ   (Auto Deploy)  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## üîß –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
- Node.js 18+
- npm 8+
- Git
- Telegram Bot Token
- Supabase Project

### –ü—Ä–æ–¥–∞–∫—à–Ω
- Render Account (Free tier)
- GitHub Account
- Supabase Project

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
```bash
git clone https://github.com/nafoxxee/lavka26-bot.git
cd lavka26-bot
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
npm install
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env`:
```env
TELEGRAM_BOT_TOKEN=your_bot_token
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_KEY=your_supabase_anon_key
ADMIN_ID=your_telegram_id
CHANNEL_ID=@your_channel
```

### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Supabase
```bash
# –°–æ–∑–¥–∞–π—Ç–µ —Ç–∞–±–ª–∏—Ü—ã –≤ Supabase Dashboard
# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏:
npm run migrate
```

### 5. –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫
```bash
npm start
```

## üåê –î–µ–ø–ª–æ–π –Ω–∞ Render

### 1. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ GitHub
1. –ó–∞–π–¥–∏—Ç–µ –≤ Render Dashboard
2. Connect ‚Üí GitHub Repository
3. –í—ã–±–µ—Ä–∏—Ç–µ `lavka26-bot`

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–∏—Å–∞
```yaml
# render.yaml (—É–∂–µ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏)
services:
  - type: worker
    name: lavka26-bot
    env: node
    buildCommand: npm install
    startCommand: npm start
    envVars:
      - key: NODE_ENV
        value: production
```

### 3. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ Render
–î–æ–±–∞–≤—å—Ç–µ –≤ Render Environment Variables:
- `TELEGRAM_BOT_TOKEN`
- `SUPABASE_URL`
- `SUPABASE_KEY`
- `ADMIN_ID`
- `CHANNEL_ID`

### 4. –î–µ–ø–ª–æ–π
```bash
git push origin main
```
Render –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–±–µ—Ä–µ—Ç –∏ —Ä–∞–∑–≤–µ—Ä–Ω–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.

## üóÑÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö Supabase

### –¢–∞–±–ª–∏—Ü—ã
```sql
-- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
CREATE TABLE users (
    id SERIAL PRIMARY KEY,
    telegram_id BIGINT UNIQUE NOT NULL,
    username VARCHAR(255),
    first_name VARCHAR(255) NOT NULL,
    last_name VARCHAR(255),
    is_admin BOOLEAN DEFAULT FALSE,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏
CREATE TABLE categories (
    id SERIAL PRIMARY KEY,
    name VARCHAR(255) NOT NULL,
    description TEXT,
    icon VARCHAR(50),
    is_active BOOLEAN DEFAULT TRUE,
    sort_order INTEGER DEFAULT 0
);

-- –û–±—ä—è–≤–ª–µ–Ω–∏—è
CREATE TABLE ads (
    id SERIAL PRIMARY KEY,
    user_id INTEGER REFERENCES users(id),
    category_id INTEGER REFERENCES categories(id),
    title VARCHAR(255) NOT NULL,
    description TEXT NOT NULL,
    price DECIMAL(10,2),
    photos TEXT[],
    status VARCHAR(20) DEFAULT 'moderation',
    is_promo BOOLEAN DEFAULT FALSE,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏
CREATE TABLE settings (
    id SERIAL PRIMARY KEY,
    sbp_phone VARCHAR(20),
    sbp_bank VARCHAR(255),
    sbp_recipient VARCHAR(255)
);
```

## üí∞ –°–∏—Å—Ç–µ–º–∞ –æ–ø–ª–∞—Ç—ã

### –ü—Ä–æ—Ü–µ—Å—Å –æ–ø–ª–∞—Ç—ã
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–µ—Ç —Ä–µ–∫–ª–∞–º–Ω–æ–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ
2. –ê–¥–º–∏–Ω –æ–¥–æ–±—Ä—è–µ—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏–µ
3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± –æ–ø–ª–∞—Ç–µ
4. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ–ø–ª–∞—á–∏–≤–∞–µ—Ç —á–µ—Ä–µ–∑ –°–ë–ü (199 ‚ÇΩ)
5. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–∫—Ä–∏–Ω—à–æ—Ç —á–µ–∫–∞
6. –ê–¥–º–∏–Ω –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –æ–ø–ª–∞—Ç—É
7. –û–±—ä—è–≤–ª–µ–Ω–∏–µ –ø—É–±–ª–∏–∫—É–µ—Ç—Å—è –≤ –∫–∞–Ω–∞–ª–µ

### –†–µ–∫–≤–∏–∑–∏—Ç—ã –°–ë–ü
–ê–¥–º–∏–Ω –º–æ–∂–µ—Ç –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–µ–∫–≤–∏–∑–∏—Ç—ã —á–µ—Ä–µ–∑ –±–æ—Ç–∞:
- `/admin` ‚Üí `üí∞ –§–∏–Ω–∞–Ω—Å—ã` ‚Üí `üìù –†–µ–∫–≤–∏–∑–∏—Ç—ã –°–ë–ü`

## üîß –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ—Ç–ª–∞–¥–∫–∞

### –õ–æ–≥–∏
```bash
# –õ–æ–∫–∏ Render
# Render Dashboard ‚Üí Logs

# –õ–æ–∫–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏
npm start
```

### Health Check
–ë–æ—Ç –∏–º–µ–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É –∑–¥–æ—Ä–æ–≤—å—è:
```javascript
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
process.once('SIGINT', () => bot.stop('SIGINT'));
process.once('SIGTERM', () => bot.stop('TERM'));
```

## üîÑ CI/CD

### GitHub Actions (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```yaml
# .github/workflows/deploy.yml
name: Deploy to Render
on:
  push:
    branches: [main]
jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Deploy to Render
        run: curl $RENDER_DEPLOY_HOOK
```

## üö® –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –ù–∏–∫–æ–≥–¥–∞ –Ω–µ —Ö—Ä–∞–Ω–∏—Ç–µ —Ç–æ–∫–µ–Ω—ã –≤ –∫–æ–¥–µ
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Environment Variables
- –í –ø—Ä–æ–¥–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Service Role Key –¥–ª—è Supabase

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –±–æ—Ç–∞
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –∞–¥–º–∏–Ω–∞
- –ó–∞—â–∏—Ç–∞ –æ—Ç —Å–ø–∞–º–∞

## üìä –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

### Render
- Free tier: 750 —á–∞—Å–æ–≤/–º–µ—Å—è—Ü
- Pro tier: $7/–º–µ—Å—è—Ü –∑–∞ –±–æ–ª—å—à–µ —Ä–µ—Å—É—Ä—Å–æ–≤

### Supabase
- Free tier: 500MB –ë–î, 50k API –≤—ã–∑–æ–≤–æ–≤
- Pro tier: $25/–º–µ—Å—è—Ü

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Redis
- CDN –¥–ª—è —Å—Ç–∞—Ç–∏–∫–∏
- –ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ –Ω–∞–≥—Ä—É–∑–∫–∏

## üîß –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏ —Ä–∞–∑–≤–∏—Ç–∏–µ

### –ë—ç–∫–∞–ø—ã
```bash
# Supabase –±—ç–∫–∞–ø—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ
# GitHub –±—ç–∫–∞–ø—ã –∫–æ–¥–∞
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- Render Analytics
- Supabase Logs
- Telegram Bot Analytics

### –û–±–Ω–æ–≤–ª–µ–Ω–∏—è
```bash
git pull origin main
npm install  # –µ—Å–ª–∏ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã

- –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫: @nafoxxee
- –ü—Ä–æ–µ–∫—Ç: Lavka26 Bot
- GitHub: https://github.com/nafoxxee/lavka26-bot

---

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏ –ª—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏. –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≥–æ—Ç–æ–≤—ã –∫ –ø—Ä–æ–¥–∞–∫—à–Ω-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.
